# Диаграмма контейнеров
![Диаграмма контейнеров](../LabWork2/C4-containers2.png)

## Диаграмма компонентов Backend API для персональной информации
![Диаграмма компонентов1](../LabWork2/c4-components-personal-info2.png)

## Диаграмма компонентов Backend API для серверов/групп пользователей
![Диаграмма компонентов2](../LabWork2/c4-components-groups-servers2.png)

## Диаграмма компонентов Backend API для сообщений
![Диаграмма компонентов3](../LabWork2/с4-messages-component2.png)

# Диаграмма последовательностей
![Диаграмма последовательностей](./seq-diag.png)
Вариант использования - создание персональной конференции и отправка сообщения пользователем 1 пользователю 2
Пользователь в клиентской части приложения - веб-интерфейсы в списке друзей/пользователей выбирает пользователя №2, нажимает на него, после чего отправляется запрос на сервер с целью проверки - есть ли между пользователями уже конференция, рассматриваем случай когда ее нет(в противном случае просто берется id конференции по id пользователей участвующих в ней) - в таком случае отправляется запрос на сервер с целью создания конференции между 2 пользователями по id, дальше пользователь имеет возможность отправить сообщение другому пользователю(текстовое, с медиа-файлом, с любым другим файлом) - он отправляет запрос на создание сообщения, система его обрабатывает, создает в NoSQL бд сообщение и далее происходит аналогичная отправка через Signalr уведомлений пользователям о появлении нового сообщения в диалоге, после чего происходит отображение у обоих пользователей новового сообщения.

# Диаграмма баз данных в uml
![Диаграмма базы данных в uml](./db-uml.png)
В данной диаграмме представлена часть системы - персональная информация и сообщения. В данный момент сообщения вынесены в NoSQL базу в облаке, но, чтобы набрать 5 сущностей и так как она участвует в варианте использования выше было принято представить ее в данной схеме.
Сущности:
* Accounts - содержит всю информацию об аккаунте пользователя, пароль в хэшированном виде
* Friends - содержит заявки в друзья с сохранением статуса текущей заявки - принято, отклонено, ожидание
* PersonaAccountInfo - содержит информацию о персональной информации пользователя, которую в будущем планируется скрыть, но которая может быть нужна при желании пользователя - страна, даты захода, создания аккаунта
* PersonalConferences - содержит информацию о созданной между 2 пользователями персональной конференции - она может быть только 1, может быть открыта как между друзьями, так и между просто пользователями системы
* Messages - вынесенная в NoSQL Couchbase структура, содержащая сообщения, которые в будущем будут зашифрованы AES-256, а так же всю информацию о статусе сообщения - прочтено, закреплено..
